import{P as n}from"./index.5b8b0d4c.js";import{R as p}from"./index.45eae9d1.js";import{I as a}from"./index.77d610ea.js";import{c as m}from"./create.d5ed34a6.js";import{a as l,f as d,c,b as u}from"./shared.c7f62d01.js";/* empty css               */const f=e=>["small","normal","large"].includes(e),g={options:{type:Array,default:()=>[]},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},iconField:{type:String,default:"icon"},size:{type:String,default:"normal",validator:f},disabled:{type:Boolean,default:!1}};const{namespace:s,createComponent:y}=m("dropdown"),C=y({props:g,directives:{Ripple:p},methods:{handleCellClick(e,t){t.disabled||l(t[this.childrenField])||(e.stopPropagation(),this.$emit("select",t),this.$refs.popover.close())},renderIcon(e){const t=this.$createElement,r=e[this.iconField];if(d(r))return r(this.$createElement);if(c(r))return t(a,{attrs:{"dropdown-cover":!0,name:r},class:s("__icon")})},renderLabel(e){const t=this.$createElement,r=e[this.labelField];if(d(r))return r(this.$createElement);if(c(r)||u(r))return t("div",{class:s("__label")},[r])},renderCell(e){const t=this.$createElement,{disabled:r}=e,i=e[this.childrenField],o=e[this.keyField];return t("div",{key:o,class:[s("__cell"),s(`--${this.size}`),r?s("--disabled"):null],on:{click:h=>this.handleCellClick(h,e)},directives:[{name:"ripple",value:{disabled:r}}]},[this.renderIcon(e),this.renderLabel(e),l(i)&&t(a,{attrs:{"dropdown-cover":!0,name:"arrow-right"},class:s("__arrow")})])},renderChildren(e){return this.$createElement("div",{class:s("__wrapper")},[this.renderOptions(e)])},renderOptions(e){const t=this.$createElement;return e.map(r=>l(r[this.childrenField])?t(n,{attrs:{disabled:r.disabled,x:4,trigger:"click",placement:"right-start",defaultStyle:!1},key:r[this.keyField],scopedSlots:{trigger:()=>this.renderCell(r)}},[this.renderChildren(r[this.childrenField])]):this.renderCell(r))}},render(){const e=arguments[0],{options:t,disabled:r,renderOptions:i}=this;return e("div",{class:s()},[e(n,{ref:"popover",attrs:{y:4,disabled:r,trigger:"click",defaultStyle:!1},scopedSlots:{trigger:()=>this.slots()},on:{open:()=>this.$emit("open"),opened:()=>this.$emit("opened"),close:()=>this.$emit("close"),closed:()=>this.$emit("closed")}},[e("div",{class:s("__wrapper")},[i(t)])])])}});export{C as D};
