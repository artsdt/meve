import{F as v}from"./index.f9508539.js";import{R as p}from"./index.45eae9d1.js";import{L as f}from"./index.3f039f2e.js";import{c as b}from"./create.aa899411.js";import{c as y}from"./relation.9e421618.js";/* empty css               */const V=e=>["normal","small","mini"].includes(e),$={value:{default:!1},label:{type:[String,Number]},activeValue:{default:!0},inactiveValue:{default:!1},size:{type:String,default:"normal",validator:V},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array}};const{createComponent:C,namespace:t}=b("switch"),_=C({mixins:[y("form",{parentKey:"form",childrenKey:"formComponents"})],directives:{Ripple:p},props:$,data:()=>({localValue:!1,errorMessage:""}),computed:{active(){return this.localValue===this.activeValue}},watch:{value:{handler(e){this.localValue=e},immediate:!0}},methods:{reset(){this.$emit("input",this.inactiveValue),this.resetValidation()},validate(){return this.$refs.formItem.validate()},resetValidation(){this.$refs.formItem.resetValidation()},toggle(e){const{inactiveValue:i,activeValue:l}=this;![i,l].includes(e)&&(e=this.active?i:l),this.change(e)},nextTickValidateWithTrigger(e){this.$nextTick(()=>{var i;(i=this.$refs.formItem)==null||i.validateWithTrigger(this.validateTrigger,e,this.rules,this.value)})},change(e){this.localValue=e,this.$emit("input",e),this.$emit("change",e),this.nextTickValidateWithTrigger("onChange")},handleClick(e){var r,d;const{disabled:i,readonly:l,loading:s,inactiveValue:n,activeValue:o}=this;((r=this.form)==null?void 0:r.disabled)||i||(this.$emit("click",e),this.nextTickValidateWithTrigger("onClick"),!(((d=this.form)==null?void 0:d.readonly)||l||s)&&this.change(this.active?n:o))},handleErrorMessageChange(e){this.errorMessage=e}},render(){const e=arguments[0],{label:i,value:l,rules:s,active:n,loading:o,size:r,ripple:d,form:a,readonly:h,disabled:c,errorMessage:u,handleClick:m,handleErrorMessageChange:g}=this;return e(v,{attrs:{"switch-cover":!0,label:i,value:l,rules:s},ref:"formItem",on:{"error-message-change":g}},[e("div",{class:[t(),"m--box",t(`--${r}`),t(n?"--border-active":"--border-inactive"),(a==null?void 0:a.disabled)||c?t("--disabled"):null,u?t("--border-error"):null],on:{click:m}},[e("div",{class:[t("__button"),t(`--${r}-button`),t(n?`--${r}-button-active`:"--button-inactive"),u?t("--button-error"):null],directives:[{name:"ripple",value:{disabled:!d||(a==null?void 0:a.disabled)||(a==null?void 0:a.readonly)||o||c||h}}]},[e(f,{attrs:{"switch-cover":!0,loading:o},class:[t("__loading"),t(`--${r}-loading`)]})])])])}});export{_ as S};
