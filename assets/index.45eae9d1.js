var g=Object.defineProperty,x=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var h=(e,t,s)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,a=(e,t)=>{for(var s in t||(t={}))E.call(t,s)&&h(e,s,t[s]);if(v)for(var s of v(t))L.call(t,s)&&h(e,s,t[s]);return e},d=(e,t)=>x(e,k(t));/* empty css               */const m=300;function T(e){const{zIndex:t,position:s}=window.getComputedStyle(e);e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden",s==="static"&&(e.style.position="relative"),t==="auto"&&(e.style.zIndex="1")}function A(e,t){const{top:s,left:n}=e.getBoundingClientRect(),{clientWidth:p,clientHeight:o}=e,r=Math.sqrt(p**2+o**2)/2,c=r*2,i=t.touches[0].clientX-n,l=t.touches[0].clientY-s,f=(p-r*2)/2,R=(o-r*2)/2,w=i-r,_=l-r;return{x:w,y:_,centerX:f,centerY:R,size:c}}function y(e){const t=this._ripple;if(t.removeRipple(),t.disabled||t.tasker)return;const s=()=>{var l;t.tasker=null;const{x:n,y:p,centerX:o,centerY:r,size:c}=A(this,e),i=document.createElement("div");i.classList.add("m-ripple"),i.style.opacity="0",i.style.transform=`translate(${n}px, ${p}px) scale3d(.3, .3, .3)`,i.style.width=`${c}px`,i.style.height=`${c}px`,i.style.backgroundColor=(l=t.color)!=null?l:"currentColor",i.dataset.createdAt=String(performance.now()),T(this),this.appendChild(i),window.setTimeout(()=>{i.style.transform=`translate(${o}px, ${r}px) scale3d(1, 1, 1)`,i.style.opacity=".25"},20)};t.tasker=window.setTimeout(s,60)}function u(){const e=this._ripple,t=()=>{const s=this.querySelectorAll(".m-ripple");if(!s.length)return;const n=s[s.length-1],p=m-performance.now()+Number(n.dataset.createdAt);setTimeout(()=>{n.style.opacity="0",setTimeout(()=>{var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)},m)},p)};e.tasker?setTimeout(t,60):t()}function C(e,t){var s;e._ripple=d(a({tasker:null},(s=t.value)!=null?s:{}),{removeRipple:u.bind(e)}),e.addEventListener("touchstart",y,{passive:!0}),e.addEventListener("dragstart",u,{passive:!0}),document.addEventListener("touchend",e._ripple.removeRipple,{passive:!0}),document.addEventListener("touchcancel",e._ripple.removeRipple,{passive:!0})}function $(e){e.removeEventListener("touchstart",y),e.removeEventListener("dragstart",u),document.removeEventListener("touchend",e._ripple.removeRipple),document.removeEventListener("touchcancel",e._ripple.removeRipple)}function b(e,t){var s;e._ripple=d(a(a({},e._ripple),(s=t.value)!=null?s:{}),{tasker:null})}const S={inserted:C,unbind:$,update:b,install(e){e.directive("ripple",this)}};export{S as R};
