import{R as c}from"./index.45eae9d1.js";import{L as h}from"./index.4fc42c55.js";import{c as g}from"./create.d5ed34a6.js";/* empty css               */const f=t=>["default","primary","info","success","warning","error"].includes(t),m=t=>["mini","normal","small","large"].includes(t),b={type:{type:String,default:"default",validator:f},size:{type:String,default:"normal",validator:m},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},autoLoading:{type:Boolean,default:!1},loadingSize:{type:[Number,String]}};const{createComponent:y,namespace:e}=g("button"),L=y({props:b,directives:{Ripple:c},data:()=>({pending:!1}),methods:{handleClick(t){this.disabled||this.loading||this.pending||!this.$listeners.click||this.attemptAutoLoading(this.$listeners.click(t))},handleTouchstart(t){this.disabled||this.loading||this.pending||!this.$listeners.touchstart||this.attemptAutoLoading(this.$listeners.touchstart(t))},attemptAutoLoading(t){this.autoLoading&&(this.pending=!0,Promise.resolve(t).finally(()=>{this.pending=!1}))},renderLoading(){const t=this.$createElement;if(this.loading||this.pending)return t(h,{attrs:{"button-cover":!0,svgClass:e(`--${this.size}-loading`),loading:this.loading||this.pending,size:this.loadingSize},class:e("__loading")})}},render(){const t=arguments[0],{size:l,disabled:i,block:s,text:a,round:o,outline:d,ripple:r,type:n,loading:u,pending:p}=this;return t("button",{class:[e(),"m--box",e(`--${l}`),s?`m--flex ${e("--block")}`:"m--inline-flex",e(a?`--text-${n}`:`--${n}`),e(a?"--text":"--shadow"),o?e("--round"):null,d?e("--outline"):null,!a&&i?e("--disabled"):null,a&&i?e("--text-disabled"):null],attrs:{tabIndex:"-1",disabled:i},directives:[{name:"ripple",value:{disabled:i||!r||u||p}}],on:{click:this.handleClick,touchstart:this.handleTouchstart}},[t("div",{class:e("__content")},[this.slots()]),this.renderLoading()])}});export{L as B,f as t};
