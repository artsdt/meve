import{I as o}from"./index.c2868c0e.js";import{R as c}from"./index.45eae9d1.js";import{S as d,O as m}from"./index.37570424.js";import{I as p}from"./index.03505042.js";import{c as g}from"./create.aa899411.js";import{r as u,t as f}from"./shared.3ed6fcb1.js";/* empty css               *//* empty css              */const v={current:{type:[String,Number],default:1},size:{type:[String,Number],default:10},total:{type:[String,Number],default:0},disabled:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:!1},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function}};const{createComponent:P,namespace:i}=g("pagination"),a=3,l=5,k=P({directives:{Ripple:c},props:v,data:()=>({localSize:void 0,quickJumperValue:""}),watch:{size:{handler(t){if(this.localSize=t,this.total===0)return;const e=u(this.current,1,this.maxPage);this.$emit("update:current",e),this.$emit("change",e,this.size)},immediate:!0},current:{handler(t){if(this.total===0)return;const e=u(t,1,this.maxPage);this.$emit("update:current",e),this.$emit("change",e,this.size)},immediate:!0}},computed:{maxPage(){return Math.ceil(this.total/this.size)},showDoubleEllipsis(){return this.maxPage>=l+2&&this.current-a>=1&&this.current+a<=this.maxPage},showLeftEllipsis(){return this.maxPage>=l+1&&this.current-a>=1},showRightEllipsis(){return this.maxPage>=l+1&&this.current+a<=this.maxPage}},methods:{prev(){this.current!==1&&this.$emit("update:current",this.current-1)},next(){this.current!==this.maxPage&&this.$emit("update:current",this.current+1)},to(t){t=f(t),this.$emit("update:current",t)},handlePrev(t){this.disabled||this.prev(t)},handleNext(t){this.disabled||this.next(t)},renderPrevButton(){const t=this.$createElement;return this.hasSlots("prev-button")?this.slots("prev-button"):t("div",{class:[i("__pager")],directives:[{name:"ripple",value:{disabled:this.disabled}}],on:{click:this.handlePrev}},[t(o,{class:i("__arrow-icon"),attrs:{"pagination-cover":!0,name:"chevron-left"}})])},renderNextButton(){const t=this.$createElement;return this.hasSlots("next-button")?this.slots("next-button"):t("div",{class:i("__pager"),directives:[{name:"ripple",value:{disabled:this.disabled}}],on:{click:this.handleNext}},[t(o,{class:i("__arrow-icon"),attrs:{"pagination-cover":!0,name:"chevron-right"}})])},handlePagerClick(t){this.disabled||(t==="next..."&&(t=this.current+a),t==="prev..."&&(t=this.current-a),this.$emit("update:current",t))},renderSizeChanger(){const t=this.$createElement;if(!!this.showSizeChanger)return t(d,{class:i("__size-changer"),attrs:{"pagination-cover":!0,value:this.localSize,disabled:this.disabled},on:{input:e=>this.$emit("update:size",e)}},[this.sizeOption.map(e=>t(m,{attrs:{label:`${e} / \u9875`,value:e}}))])},renderQuickJumper(){const t=this.$createElement;if(!!this.showQuickJumper)return t(p,{class:i("__quick-jumper"),attrs:{placeholder:"\u5FEB\u901F\u8DF3\u8F6C","pagination-cover":!0,disabled:this.disabled},on:{change:this.to},model:{value:this.quickJumperValue,callback:e=>{this.quickJumperValue=e}}})},renderTotal(){const t=this.$createElement;if(!this.showTotal)return;const e=(this.current-1)*this.size+1,n=[e,e+this.size-1],s=this.showTotal(this.total,n);return t("div",{class:i("__total")},[s])},renderPagers(){const t=this.$createElement,e=[],n=[];let s=[];if(this.showDoubleEllipsis){e.push(1,"prev..."),n.push("next...",this.maxPage);let r=this.current;Array.from({length:a}).forEach(()=>{r<=this.current?(s.unshift(r),r=s[s.length-1]+1):(s.push(r),r=s[0]-1)})}else this.showLeftEllipsis?(e.push(1,"prev..."),s=Array.from({length:l-1}).map((r,h)=>this.maxPage-a+h)):this.showRightEllipsis?(n.push("next...",this.maxPage),s=Array.from({length:l-1}).map((r,h)=>h+1)):s=Array.from({length:this.maxPage}).map((r,h)=>h+1);return[...e,...s,...n].map(r=>t("div",{class:[i("__pager"),this.current===r?i("--active"):null],on:{click:()=>this.handlePagerClick(r)},directives:[{name:"ripple",value:{disabled:this.disabled}}]},[r.toString().replace(/prev|next/,"")]))}},render(){const t=arguments[0],{total:e,disabled:n}=this;return t("div",{class:[i(),"m--box",n?i("--disabled"):null],directives:[{name:"show",value:e>0}]},[t("div",{class:i("__pager-container")},[this.renderPrevButton(),this.renderPagers(),this.renderNextButton()]),this.renderTotal(),this.renderSizeChanger(),this.renderQuickJumper()])}});export{k as P};
